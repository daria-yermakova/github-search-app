(this["webpackJsonpreact-spa"]=this["webpackJsonpreact-spa"]||[]).push([[0],{112:function(e,t,c){},121:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(15),s=c.n(r),i=c(81),j=c(82),o=c(98),b=c(96),h=(c(112),c(14)),l=c(41),u=c(176),d=c(33),O=c(2);function x(){var e=Object(l.c)((function(e){return e.history}));return Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)(u.a,{variant:"h5",component:"div",gutterBottom:!0,children:"Search history"}),Object(O.jsx)("div",{className:"list",children:e.history.map((function(e,t){return Object(O.jsx)(d.b,{to:{pathname:"/search",state:{datatable:e.result,request:e.request}},children:Object(O.jsx)(u.a,{variant:"h6",children:"".concat(t+1,". ").concat(e.request)})},"request".concat(t))}))})]})}var f=c(71),p=c.n(f),v=c(88),m=c(72),y=c(17),g=c(172),k=c(165),q=c(164),C=c(166),N=c(167),w=c(168),S=c(169),I=c(170),E=c(89),H=c(173),B=c(13),D=c(63),J=Object(D.b)({name:"history",initialState:{history:[]},reducers:{add:function(e,t){e.history.length>=5&&e.history.shift(),e.history=[].concat(Object(B.a)(e.history),[t.payload])}}}),L=J.actions.add;J.reducer;var W=Object(l.b)((function(e){return e}),{addHistory:L})((function(e){e.history;var t=e.addHistory,c=Object(a.useState)(""),n=Object(y.a)(c,2),r=n[0],s=n[1],i=Object(a.useState)([]),j=Object(y.a)(i,2),o=j[0],b=j[1],l=Object(a.useState)(1),u=Object(y.a)(l,2),d=u[0],x=u[1],f=Object(a.useState)(0),B=Object(y.a)(f,2),D=B[0],J=B[1],L=Object(h.g)(),W=Object(h.f)(),_=Object(a.useCallback)((function(){W.replace(Object(m.a)(Object(m.a)({},L),{},{state:void 0}))}),[W]);Object(a.useEffect)((function(){_()}),[]),Object(a.useEffect)((function(){L.state&&(b(L.state.datatable),s(L.state.request))}),[L.state]);var z=Object(a.useCallback)((function(e){var t=e.target.value.trimLeft();s(t),t&&F(t.trim())}),[]),F=Object(a.useCallback)(Object(E.debounce)(function(){var e=Object(v.a)(p.a.mark((function e(c){var a,n,r,s,i,j=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=j.length>1&&void 0!==j[1]?j[1]:1,n="https://api.github.com/search/repositories?q=".concat(c,"&page=").concat(a),e.next=4,fetch(n).then((function(e){return e.json()})).catch((function(e){return console.error("error",e),[]}));case 4:r=e.sent,s=r.items,i=r.total_count,b(s),J(Math.ceil(i/30)),t({request:n,result:s});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),500),[]);return Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("div",{className:"textFieldContainer",children:Object(O.jsx)(g.a,{label:"Input search request",value:r,type:"string",onChange:z,margin:"normal",fullWidth:!0})}),Object(O.jsxs)("div",{className:"tableContainer",children:[Object(O.jsx)(k.a,{component:q.a,children:Object(O.jsxs)(C.a,{sx:{minWidth:400},size:"small","aria-label":"a dense table",children:[Object(O.jsx)(N.a,{children:Object(O.jsxs)(w.a,{children:[Object(O.jsx)(S.a,{variant:"head",children:"Name"}),Object(O.jsx)(S.a,{variant:"head",children:"Owner"}),Object(O.jsx)(S.a,{variant:"head",children:"Pushed at"}),Object(O.jsx)(S.a,{variant:"head",children:"Link"})]})}),Object(O.jsx)(I.a,{children:o.map((function(e){return Object(O.jsxs)(w.a,{children:[Object(O.jsx)(S.a,{component:"th",scope:"row",children:e.name}),Object(O.jsx)(S.a,{children:e.owner.login}),Object(O.jsx)(S.a,{children:e.pushed_at}),Object(O.jsx)(S.a,{children:Object(O.jsx)("a",{href:e.url,children:e.url})})]},e.id)}))})]})}),o.length>0&&Object(O.jsx)(H.a,{count:D,page:d,onChange:function(e,t){x(t),F(r,t)}})]})]})})),_=c(177),z=c(94),F=c.n(z),M=c(95),P=c.n(M);function A(){return Object(O.jsxs)("div",{className:"header",children:[Object(O.jsx)(d.b,{to:"/search",style:{margin:"10px",textDecoration:"none"},children:Object(O.jsx)(_.a,{variant:"outlined",startIcon:Object(O.jsx)(F.a,{}),children:"Search"})}),Object(O.jsx)(d.b,{to:"/history",style:{margin:"10px",textDecoration:"none"},children:Object(O.jsx)(_.a,{variant:"outlined",startIcon:Object(O.jsx)(P.a,{}),children:"History"})})]})}function G(){return Object(O.jsxs)("div",{children:[Object(O.jsx)(A,{}),Object(O.jsxs)(h.c,{children:[Object(O.jsx)(h.a,{path:"/history",children:Object(O.jsx)(x,{})}),Object(O.jsx)(h.a,{path:"/search",children:Object(O.jsx)(W,{})})]})]})}var K=function(e){Object(o.a)(c,e);var t=Object(b.a)(c);function c(){return Object(i.a)(this,c),t.apply(this,arguments)}return Object(j.a)(c,[{key:"render",value:function(){return Object(O.jsx)("div",{className:"body",children:Object(O.jsx)(G,{})})}}]),c}(n.a.Component),Q=K,R=Object(D.a)({reducer:{history:J.reducer}}),T=Object(O.jsx)(l.a,{store:R,children:Object(O.jsx)(d.a,{children:Object(O.jsx)(Q,{})})});s.a.render(T,document.getElementById("root"))}},[[121,1,2]]]);
//# sourceMappingURL=main.e71dab9b.chunk.js.map