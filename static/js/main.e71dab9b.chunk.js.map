{"version":3,"sources":["pages/History/History.jsx","store/historySlice.js","pages/Search/Search.jsx","pages/Header/Header.jsx","pages/Main/Main.jsx","App.js","store/store.js","index.js"],"names":["History","history","useSelector","state","className","Typography","variant","component","gutterBottom","map","elem","index","to","pathname","datatable","result","request","historySlice","createSlice","name","initialState","reducers","add","action","length","shift","payload","actions","connect","addHistory","useState","value","setValue","data","setData","page","setPage","totalCounter","setTotalCounter","location","useLocation","historyDom","useHistory","replaceHistory","useCallback","replace","undefined","useEffect","onChangeTextField","e","searchString","target","trimLeft","getData","trim","debounce","filter","a","pageNumber","fetch","then","response","json","catch","error","console","items","total_count","Math","ceil","TextField","label","type","onChange","margin","fullWidth","TableContainer","Paper","Table","sx","minWidth","size","TableHead","TableRow","TableCell","TableBody","item","scope","owner","login","pushed_at","href","url","id","Pagination","count","event","val","Header","style","textDecoration","Button","startIcon","Main","path","App","React","Component","configureStore","reducer","app","store","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e71dab9b.chunk.js","sourcesContent":["import {useSelector} from \"react-redux\";\r\nimport {Typography} from \"@mui/material\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport function History () {\r\n\r\n    const history = useSelector((state) => state.history)\r\n    return (\r\n        <div className=\"container\">\r\n            <Typography variant=\"h5\" component=\"div\" gutterBottom>Search history</Typography>\r\n            <div className=\"list\">\r\n                {\r\n                    history.history.map((elem, index) =>\r\n                        <Link\r\n                            key={`request${index}`}\r\n                            to={{\r\n                            pathname: \"/search\",\r\n                            state: { datatable: elem.result, request: elem.request }\r\n                        }}>\r\n                            <Typography variant=\"h6\">{`${index+1}. ${elem.request}`}</Typography>\r\n                        </Link>\r\n                    )\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import { createSlice } from '@reduxjs/toolkit'\r\n\r\nexport const historySlice = createSlice({\r\n    name: 'history',\r\n    initialState: {\r\n        history: [],\r\n    },\r\n    reducers: {\r\n        add: (state, action) => {\r\n          if (state.history.length >= 5) {\r\n              state.history.shift();\r\n          }\r\n          state.history = [...state.history, action.payload];\r\n        },\r\n    },\r\n})\r\n\r\nexport const { add } = historySlice.actions\r\n\r\nexport default historySlice.reducer","import {\r\n    Paper,\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableContainer,\r\n    TableHead,\r\n    TableRow,\r\n    TextField\r\n} from \"@material-ui/core\";\r\nimport {useState, useCallback, useEffect} from \"react\";\r\nimport {debounce} from \"lodash\";\r\nimport {Pagination} from \"@mui/material\";\r\nimport {connect} from \"react-redux\";\r\nimport {add} from '../../store/historySlice';\r\nimport {useHistory, useLocation} from \"react-router-dom\";\r\n\r\nfunction Search({history, addHistory}) {\r\n\r\n    const [value, setValue] = useState('');\r\n\r\n    const [data, setData] = useState([]);\r\n\r\n    const [page, setPage] = useState(1);\r\n\r\n    const [totalCounter, setTotalCounter] = useState(0);\r\n\r\n    const location = useLocation();\r\n    const historyDom = useHistory();\r\n\r\n    const replaceHistory = useCallback(() => {\r\n        historyDom.replace({...location, state: undefined});\r\n    }, [historyDom]);\r\n\r\n    useEffect(()=> {\r\n        replaceHistory();\r\n    }, []);\r\n\r\n    useEffect(()=> {\r\n        if(location.state){\r\n            setData(location.state.datatable);\r\n            setValue(location.state.request);\r\n        }\r\n    }, [location.state]);\r\n\r\n    const onChangeTextField = useCallback((e) => {\r\n        const searchString = e.target.value.trimLeft();\r\n        setValue(searchString);\r\n        if (searchString)\r\n            getData(searchString.trim());\r\n    }, []);\r\n\r\n    const onChangePagination = (event, val) => {\r\n        setPage(val);\r\n        getData(value, val);\r\n    };\r\n\r\n    const getData = useCallback(debounce(async (filter, pageNumber = 1) => {\r\n        const request = `https://api.github.com/search/repositories?q=${filter}&page=${pageNumber}`;\r\n        const {items, total_count} = await fetch(request)\r\n            .then(response => response.json())\r\n            .catch(error => {\r\n                console.error('error', error);\r\n                return [];\r\n            });\r\n\r\n        setData(items);\r\n        setTotalCounter(Math.ceil(total_count/30));\r\n        addHistory({ request, result: items });\r\n    }, 500), []);\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"textFieldContainer\">\r\n                <TextField\r\n                    label=\"Input search request\"\r\n                    value={value}\r\n                    type=\"string\"\r\n                    onChange={onChangeTextField}\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                />\r\n            </div>\r\n            <div className=\"tableContainer\">\r\n                <TableContainer component={Paper}>\r\n                    <Table sx={{ minWidth: 400 }} size=\"small\" aria-label=\"a dense table\">\r\n                        <TableHead>\r\n                            <TableRow>\r\n                                <TableCell variant=\"head\">Name</TableCell>\r\n                                <TableCell variant=\"head\">Owner</TableCell>\r\n                                <TableCell variant=\"head\">Pushed at</TableCell>\r\n                                <TableCell variant=\"head\">Link</TableCell>\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                            {data.map((item) => (\r\n                                <TableRow\r\n                                    key={item.id}\r\n                                >\r\n                                    <TableCell component=\"th\" scope=\"row\">\r\n                                        {item.name}\r\n                                    </TableCell>\r\n                                    <TableCell>{item.owner.login}</TableCell>\r\n                                    <TableCell>{item.pushed_at}</TableCell>\r\n                                    <TableCell>\r\n                                        <a href={item.url}>{item.url}</a>\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            ))}\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n                {data.length > 0 && (\r\n                    <Pagination count={totalCounter} page={page} onChange={onChangePagination} />\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return state;\r\n}\r\n\r\nexport default connect(mapStateToProps, { addHistory: add })(Search);\r\n","import React from 'react';\r\nimport {Button} from \"@mui/material\";\r\nimport {Link} from \"react-router-dom\";\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport HistoryIcon from '@mui/icons-material/History';\r\n\r\nexport function Header () {\r\n\r\n    return (\r\n        <div className=\"header\">\r\n            <Link to={\"/search\"} style={{ margin: '10px', textDecoration: 'none' }}>\r\n                <Button variant=\"outlined\" startIcon={<SearchIcon />}>\r\n                    Search\r\n                </Button>\r\n            </Link>\r\n            <Link to={\"/history\"} style={{ margin: '10px', textDecoration: 'none' }}>\r\n                <Button variant=\"outlined\" startIcon={<HistoryIcon />}>\r\n                    History\r\n                </Button>\r\n            </Link>\r\n        </div>\r\n    );\r\n}\r\n","import {Route, Switch} from \"react-router-dom\";\r\nimport {History} from \"../History/History\";\r\nimport Search from \"../Search/Search\";\r\nimport React from \"react\";\r\nimport {Header} from \"../Header/Header\";\r\n\r\nexport function Main() {\r\n    return (\r\n        <div>\r\n            <Header />\r\n            <Switch>\r\n                <Route path=\"/history\">\r\n                    <History />\r\n                </Route>\r\n                <Route path=\"/search\">\r\n                    <Search />\r\n                </Route>\r\n            </Switch>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport '../src/styles/styles.scss';\r\nimport {Main} from \"./pages/Main/Main\";\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n        <div className=\"body\">\r\n            <Main />\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import { configureStore } from '@reduxjs/toolkit'\r\nimport {historySlice} from \"./historySlice\";\r\n\r\nexport default configureStore({\r\n    reducer: {\r\n        history: historySlice.reducer,\r\n    },\r\n})","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport store from './store/store'\r\nimport { Provider } from 'react-redux'\r\n\r\nconst app = (\r\n    <Provider store={store}>\r\n        <BrowserRouter>\r\n            <App />\r\n        </BrowserRouter>\r\n    </Provider>\r\n);\r\n\r\nReactDOM.render(app, document.getElementById('root'));"],"sourceRoot":""}